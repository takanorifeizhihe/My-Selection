<%= form_for(post) do |f| %>
  <div class="field">
  <div>
    <%= f.label :comment%>
    <%= f.text_area :comment %>
  </div>

  <div>
    <%= f.submit "送信する" %>
  </div>

    <div class="form-group row" id="star">
    <%= f.label :star,'評価 ', class:'col-md-3 col-form-label' %>
    <%= f.hidden_field :star, id: :review_star %>
    <%= f.hidden_field :other_content_id, :value => other_content.id %>
  </div>

  <!-- 評価javascript -->
  <script>
  $('#star').raty({
    size     : 36,
    starOff:  '<%= asset_path('star-off.png') %>',
    starOn : '<%= asset_path('star-on.png') %>',
    starHalf: '<%= asset_path('star-half.png') %>',

    scoreName: 'post[star]',
    half: true
  });
  </script>
</div>
<% end %>


<p class="is-size-4 mb-3">レビューを書く</p>
<% if post.errors.any? %>
  <div class="notification is-danger">
    <h2><%= post.errors.count %>件のエラーがあります。</h2>
    <ul>
      <% post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<div class="rating-box mt-3">
  <%= form_with model: post, url: posts_path(post) do |f| %>
    <div class="main-rating">
      <div class="ratings mb-3">
        <span class="fas fa-star" id="star"></span>
        <span class="fas fa-star" id="star"></span>
        <span class="fas fa-star" id="star"></span>
        <span class="fas fa-star" id="star"></span>
        <span class="fas fa-star" id="star"></span>
      </div>
      <div class="ml-3 rating-value-display"><span id="rating-value-display">0</span>/5</div>
    </div>
    <%= f.hidden_field :other_content_id, value: other_content.id %>
    <%= f.hidden_field :star, id: "rating-value" %>
    <%= f.text_area :coment %>
    <%= f.submit "保存", class: "button mt-3" %>

  <% end %>
</div>

<%= javascript_pack_tag '/assets/javascripts/post.js' %>